import{u as P,t as Q,a as j}from"./BI5DW-_x.js";import{_ as O,o as d,c as f,b as r,x as X,v as Y,y as $,d as B,B as M,C as Z,D as C,r as z,J as ee,k as N,E as te,K as ae,m as oe,I as se,L as ne,M as le,a as re,e as c,g as I,w as V,u as g,t as ue,f as U,F as q,i as F}from"./ClspZet8.js";import{c as ie}from"./BNAqeFHJ.js";import{_ as de,a as ce}from"./B_eycVVu.js";import{_ as T}from"./DMDL8dbO.js";import{_ as me}from"./DNHMNvbH.js";const p=Z(C.ui.strategy,C.ui.textarea,Q),pe=B({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},maxrows:{type:Number,default:0},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(p.size).includes(e)}},color:{type:String,default:()=>p.default.color,validator(e){return[...C.ui.colors,...Object.keys(p.color)].includes(e)}},variant:{type:String,default:()=>p.default.variant,validator(e){return[...Object.keys(p.variant),...Object.values(p.color).flatMap(o=>Object.keys(o))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:o}){const{ui:t,attrs:y}=P("textarea",M(e,"ui"),p,M(e,"class")),{emitFormBlur:_,emitFormInput:s,inputId:l,color:m,size:v,name:b}=ie(e,p),u=z(ee({},e.modelModifiers,{trim:!1,lazy:!1,number:!1,nullify:!1})),n=z(null),x=()=>{var a;e.autofocus&&((a=n.value)==null||a.focus())},h=()=>{if(e.autoresize){if(!n.value)return;n.value.rows=e.rows;const a=n.value.style.overflow;n.value.style.overflow="hidden";const i=window.getComputedStyle(n.value),w=Number.parseInt(i.paddingTop),E=Number.parseInt(i.paddingBottom),G=w+E,J=Number.parseInt(i.lineHeight),{scrollHeight:L}=n.value,k=(L-G)/J;k>e.rows&&(n.value.rows=e.maxrows?Math.min(k,e.maxrows):k),n.value.style.overflow=a}},S=a=>{u.value.trim&&(a=a.trim()),u.value.number&&(a=le(a)),u.value.nullify&&(a||(a=null)),o("update:modelValue",a),s()},D=a=>{h(),u.value.lazy||S(a.target.value)},W=a=>{const i=a.target.value;o("change",i),u.value.lazy&&S(i),u.value.trim&&(a.target.value=i.trim())},H=a=>{o("blur",a),_()};N(()=>{setTimeout(()=>{x()},e.autofocusDelay)}),te(()=>e.modelValue,()=>{ae(h)}),N(()=>{setTimeout(()=>{x(),h()},100)});const K=oe(()=>{var i,w;const a=((w=(i=t.value.color)==null?void 0:i[m.value])==null?void 0:w[e.variant])||t.value.variant[e.variant];return se(ne(t.value.base,t.value.form,t.value.rounded,t.value.placeholder,t.value.size[v.value],e.padded?t.value.padding[v.value]:"p-0",a==null?void 0:a.replaceAll("{color}",m.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:t,attrs:y,name:b,inputId:l,textarea:n,textareaClass:K,onInput:D,onChange:W,onBlur:H}}}),fe=["id","value","name","rows","required","disabled","placeholder"];function ye(e,o,t,y,_,s){return d(),f("div",{class:$(e.ui.wrapper)},[r("textarea",X({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:e.textareaClass},e.attrs,{onInput:o[0]||(o[0]=(...l)=>e.onInput&&e.onInput(...l)),onBlur:o[1]||(o[1]=(...l)=>e.onBlur&&e.onBlur(...l)),onChange:o[2]||(o[2]=(...l)=>e.onChange&&e.onChange(...l))}),null,16,fe),Y(e.$slots,"default")],2)}const _e=O(pe,[["render",ye]]),ve={key:0,class:"flex items-center gap-x-2 mb-5"},A=B({__name:"WriteBox",props:{reply:{type:Boolean,default:!1}},setup(e){const o=e,t=re({description:void 0});async function y(){console.log(t.description)}return(_,s)=>{const l=j,m=_e,v=de,b=T,u=ce;return d(),f("div",{class:$([o.reply?"mt-6":"border-2 rounded-xl p-6"])},[o.reply?I("",!0):(d(),f("div",ve,[c(l,{name:"i-solar-dialog-2-broken",class:"text-sky-400 size-6"}),s[1]||(s[1]=r("p",{class:"text-lg font-bold"},"دیدگاه یا پرسش جدید",-1))])),c(u,{state:g(t),class:"space-y-4",onSubmit:y},{default:V(()=>[c(v,{name:"description"},{default:V(()=>[c(m,{autofocus:"",modelValue:g(t).description,"onUpdate:modelValue":s[0]||(s[0]=n=>g(t).description=n),variant:"none",rows:7,size:"lg",placeholder:"دیدگاه یا پرسش خود را درباره‌ی این دوره مطرح کنید...",class:"bg-gray-100 rounded-xl"},null,8,["modelValue"])]),_:1}),c(b,{label:"ارسال دیدگاه",size:"lg",type:"submit"})]),_:1},8,["state"])],2)}}}),ge={class:"space-y-3"},be={class:"flex items-center gap-x-2"},xe={class:"mt-4 mb-10"},we={key:0,class:"flex items-center gap-x-4 bg-sky-100 rounded-full px-4 pt-1.5 pb-0.5 mb-5"},Be={class:"flex items-center gap-x-4"},he=B({__name:"Message",props:{data:{type:Object,required:!0},reply:{type:Boolean,default:!1}},setup(e){const o=e,t=z(!1),y=()=>{t.value=!t.value};return(_,s)=>{const l=me,m=j,v=T,b=A,u=R;return d(),f("div",ge,[r("div",{class:$(["relative rounded-xl py-3 px-5",[o.reply?"reply bg-white border-2 mr-20":"bg-gray-200"]])},[r("div",be,[c(l,{src:"https://avatars.githubusercontent.com/u/739984?v=4",alt:"Avatar"}),s[0]||(s[0]=r("p",{class:"text-sm font-bold"},"Rahele Kakavand راهله کاکاوند",-1))]),r("div",xe,[o.reply?(d(),f("div",we,[c(m,{name:"i-solar-square-share-line-broken",class:"mb-0.5"}),s[1]||(s[1]=r("p",{class:"text-sm"},"Rahele Kakavand راهله کاکاوند",-1))])):I("",!0),r("p",null,ue(o.data.message),1)]),r("div",Be,[s[2]||(s[2]=r("span",{class:"text-xs font-semibold"},"19 اردیبهشت 1402",-1)),c(v,{class:"ms-auto",variant:"ghost",color:g(t)?"red":"sky",icon:g(t)?"i-solar-close-square-broken":"i-solar-square-share-line-broken",onClick:y},null,8,["color","icon"])]),g(t)?(d(),U(b,{key:0,reply:""})):I("",!0)],2),(d(!0),f(q,null,F(e.data.replys,(n,x)=>(d(),U(u,{key:x,data:n,reply:""},null,8,["data"]))),128))])}}}),R=O(he,[["__scopeId","data-v-2cba5d27"]]),ke={class:"space-y-4"},Ce={class:"space-y-3"},Ve=B({__name:"index",setup(e){const o=[{message:"این قسمت خوب توضیح داده نشده و کد نوشته شده با کدهای بخشهای قبلی متفاوته",replys:[{message:"کدهای بخشهای قبلی متفاوته",replys:[]},{message:"راست میگه",replys:[]}]}];return(t,y)=>{const _=A,s=R;return d(),f("div",ke,[c(_),r("div",Ce,[(d(),f(q,null,F(o,(l,m)=>c(s,{key:m,data:l},null,8,["data"])),64))])])}}});export{Ve as _};
