import{u as te,a1 as Y,P as ne,a2 as q,a3 as J,k as Q,K as oe,r as A,m as S,E as F,N as le,n as se,a as $,j as B}from"./ClspZet8.js";function p(e){return Y()?(ne(e),!0):!1}function w(e){return typeof e=="function"?e():te(e)}const re=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ie=e=>e!=null,ce=Object.prototype.toString,ae=e=>ce.call(e)==="[object Object]",x=()=>{};function Z(e,o){function l(...s){return new Promise((t,i)=>{Promise.resolve(e(()=>o.apply(this,s),{fn:o,thisArg:this,args:s})).then(t).catch(i)})}return l}function ue(e,o={}){let l,s,t=x;const i=r=>{clearTimeout(r),t(),t=x};return r=>{const u=w(e),c=w(o.maxWait);return l&&i(l),u<=0||c!==void 0&&c<=0?(s&&(i(s),s=null),Promise.resolve(r())):new Promise((a,n)=>{t=o.rejectOnCancel?n:a,c&&!s&&(s=setTimeout(()=>{l&&i(l),s=null,a(r())},c)),l=setTimeout(()=>{s&&i(s),s=null,a(r())},u)})}}function fe(...e){let o=0,l,s=!0,t=x,i,d,r,u,c;!q(e[0])&&typeof e[0]=="object"?{delay:d,trailing:r=!0,leading:u=!0,rejectOnCancel:c=!1}=e[0]:[d,r=!0,u=!0,c=!1]=e;const a=()=>{l&&(clearTimeout(l),l=void 0,t(),t=x)};return f=>{const m=w(d),h=Date.now()-o,b=()=>i=f();return a(),m<=0?(o=Date.now(),b()):(h>m&&(u||!s)?(o=Date.now(),b()):r&&(i=new Promise((T,g)=>{t=c?g:T,l=setTimeout(()=>{o=Date.now(),s=!0,T(b()),a()},Math.max(0,m-h))})),!u&&!l&&(l=setTimeout(()=>s=!0,m)),s=!1,i)}}function de(e){return J()}function k(e,o=200,l={}){return Z(ue(o,l),e)}function ve(e,o=200,l=!1,s=!0,t=!1){return Z(fe(o,l,s,t),e)}function G(e,o=!0,l){de()?Q(e,l):o?e():oe(e)}function ge(e,o,l){let s;q(l)?s={evaluating:l}:s=l||{};const{lazy:t=!1,evaluating:i=void 0,shallow:d=!0,onError:r=x}=s,u=A(!t),c=d?le(o):A(o);let a=0;return se(async n=>{if(!u.value)return;a++;const f=a;let m=!1;i&&Promise.resolve().then(()=>{i.value=!0});try{const h=await e(b=>{n(()=>{i&&(i.value=!1),m||b()})});f===a&&(c.value=h)}catch(h){r(h)}finally{i&&f===a&&(i.value=!1),m=!0}}),t?S(()=>(u.value=!0,c.value)):c}const j=re?window:void 0;function _(e){var o;const l=w(e);return(o=l==null?void 0:l.$el)!=null?o:l}function K(...e){let o,l,s,t;if(typeof e[0]=="string"||Array.isArray(e[0])?([l,s,t]=e,o=j):[o,l,s,t]=e,!o)return x;Array.isArray(l)||(l=[l]),Array.isArray(s)||(s=[s]);const i=[],d=()=>{i.forEach(a=>a()),i.length=0},r=(a,n,f,m)=>(a.addEventListener(n,f,m),()=>a.removeEventListener(n,f,m)),u=F(()=>[_(o),w(t)],([a,n])=>{if(d(),!a)return;const f=ae(n)?{...n}:n;i.push(...l.flatMap(m=>s.map(h=>r(a,m,h,f))))},{immediate:!0,flush:"post"}),c=()=>{u(),d()};return p(c),c}function he(){const e=A(!1),o=J();return o&&Q(()=>{e.value=!0},o),e}function P(e){const o=he();return S(()=>(o.value,!!e()))}function me(e,o,l={}){const{window:s=j,...t}=l;let i;const d=P(()=>s&&"ResizeObserver"in s),r=()=>{i&&(i.disconnect(),i=void 0)},u=S(()=>{const n=w(e);return Array.isArray(n)?n.map(f=>_(f)):[_(n)]}),c=F(u,n=>{if(r(),d.value&&s){i=new ResizeObserver(o);for(const f of n)f&&i.observe(f,t)}},{immediate:!0,flush:"post"}),a=()=>{r(),c()};return p(a),{isSupported:d,stop:a}}function we(e,o={width:0,height:0},l={}){const{window:s=j,box:t="content-box"}=l,i=S(()=>{var n,f;return(f=(n=_(e))==null?void 0:n.namespaceURI)==null?void 0:f.includes("svg")}),d=A(o.width),r=A(o.height),{stop:u}=me(e,([n])=>{const f=t==="border-box"?n.borderBoxSize:t==="content-box"?n.contentBoxSize:n.devicePixelContentBoxSize;if(s&&i.value){const m=_(e);if(m){const h=m.getBoundingClientRect();d.value=h.width,r.value=h.height}}else if(f){const m=Array.isArray(f)?f:[f];d.value=m.reduce((h,{inlineSize:b})=>h+b,0),r.value=m.reduce((h,{blockSize:b})=>h+b,0)}else d.value=n.contentRect.width,r.value=n.contentRect.height},l);G(()=>{const n=_(e);n&&(d.value="offsetWidth"in n?n.offsetWidth:o.width,r.value="offsetHeight"in n?n.offsetHeight:o.height)});const c=F(()=>_(e),n=>{d.value=n?o.width:0,r.value=n?o.height:0});function a(){u(),c()}return{width:d,height:r,stop:a}}function ye(e,o,l={}){const{root:s,rootMargin:t="0px",threshold:i=0,window:d=j,immediate:r=!0}=l,u=P(()=>d&&"IntersectionObserver"in d),c=S(()=>{const h=w(e);return(Array.isArray(h)?h:[h]).map(_).filter(ie)});let a=x;const n=A(r),f=u.value?F(()=>[c.value,_(s),n.value],([h,b])=>{if(a(),!n.value||!h.length)return;const T=new IntersectionObserver(o,{root:_(b),rootMargin:t,threshold:i});h.forEach(g=>g&&T.observe(g)),a=()=>{T.disconnect(),a=x}},{immediate:r,flush:"post"}):x,m=()=>{a(),f(),n.value=!1};return p(m),{isSupported:u,isActive:n,pause(){a(),n.value=!1},resume(){n.value=!0},stop:m}}const W=new Map;function Ee(e){const o=Y();function l(r){var u;const c=W.get(e)||new Set;c.add(r),W.set(e,c);const a=()=>t(r);return(u=o==null?void 0:o.cleanups)==null||u.push(a),a}function s(r){function u(...c){t(u),r(...c)}return l(u)}function t(r){const u=W.get(e);u&&(u.delete(r),u.size||i())}function i(){W.delete(e)}function d(r,u){var c;(c=W.get(e))==null||c.forEach(a=>a(r,u))}return{on:l,once:s,off:t,emit:d,reset:i}}const U=1;function Se(e,o={}){const{throttle:l=0,idle:s=200,onStop:t=x,onScroll:i=x,offset:d={left:0,right:0,top:0,bottom:0},eventListenerOptions:r={capture:!1,passive:!0},behavior:u="auto",window:c=j,onError:a=v=>{console.error(v)}}=o,n=A(0),f=A(0),m=S({get(){return n.value},set(v){b(v,void 0)}}),h=S({get(){return f.value},set(v){b(void 0,v)}});function b(v,z){var y,M,C,O;if(!c)return;const E=w(e);if(!E)return;(C=E instanceof Document?c.document.body:E)==null||C.scrollTo({top:(y=w(z))!=null?y:h.value,left:(M=w(v))!=null?M:m.value,behavior:w(u)});const R=((O=E==null?void 0:E.document)==null?void 0:O.documentElement)||(E==null?void 0:E.documentElement)||E;m!=null&&(n.value=R.scrollLeft),h!=null&&(f.value=R.scrollTop)}const T=A(!1),g=$({left:!0,right:!1,top:!0,bottom:!1}),I=$({left:!1,right:!1,top:!1,bottom:!1}),H=v=>{T.value&&(T.value=!1,I.left=!1,I.right=!1,I.top=!1,I.bottom=!1,t(v))},ee=k(H,l+s),L=v=>{var z;if(!c)return;const y=((z=v==null?void 0:v.document)==null?void 0:z.documentElement)||(v==null?void 0:v.documentElement)||_(v),{display:M,flexDirection:C}=getComputedStyle(y),O=y.scrollLeft;I.left=O<n.value,I.right=O>n.value;const E=Math.abs(O)<=(d.left||0),R=Math.abs(O)+y.clientWidth>=y.scrollWidth-(d.right||0)-U;M==="flex"&&C==="row-reverse"?(g.left=R,g.right=E):(g.left=E,g.right=R),n.value=O;let D=y.scrollTop;v===c.document&&!D&&(D=c.document.body.scrollTop),I.top=D<f.value,I.bottom=D>f.value;const N=Math.abs(D)<=(d.top||0),X=Math.abs(D)+y.clientHeight>=y.scrollHeight-(d.bottom||0)-U;M==="flex"&&C==="column-reverse"?(g.top=X,g.bottom=N):(g.top=N,g.bottom=X),f.value=D},V=v=>{var z;if(!c)return;const y=(z=v.target.documentElement)!=null?z:v.target;L(y),T.value=!0,ee(v),i(v)};return K(e,"scroll",l?ve(V,l,!0,!1):V,r),G(()=>{try{const v=w(e);if(!v)return;L(v)}catch(v){a(v)}}),K(e,"scrollend",H,r),{x:m,y:h,isScrolling:T,arrivedState:g,directions:I,measure(){const v=w(e);c&&v&&L(v)}}}const _e=(e,o,l=!0)=>{const s=B("form-events",void 0),t=B("form-group",void 0),i=B("form-inputs",void 0);t&&(!l||e!=null&&e.legend?t.inputId.value=void 0:e!=null&&e.id&&(t.inputId.value=e==null?void 0:e.id),i&&(i.value[t.name.value]=t.inputId.value));const d=A(!1);function r(n,f){s&&s.emit({type:n,path:f})}function u(){r("blur",t==null?void 0:t.name.value),d.value=!0}function c(){r("change",t==null?void 0:t.name.value)}const a=k(()=>{(d.value||t!=null&&t.eagerValidation.value)&&r("input",t==null?void 0:t.name.value)},300);return{inputId:S(()=>(e==null?void 0:e.id)??(t==null?void 0:t.inputId.value)),name:S(()=>(e==null?void 0:e.name)??(t==null?void 0:t.name.value)),size:S(()=>{var f;const n=o.size[t==null?void 0:t.size.value]?t==null?void 0:t.size.value:null;return(e==null?void 0:e.size)??n??((f=o.default)==null?void 0:f.size)}),color:S(()=>{var n;return(n=t==null?void 0:t.error)!=null&&n.value?"red":e==null?void 0:e.color}),emitFormBlur:u,emitFormInput:a,emitFormChange:c}};export{we as a,me as b,_e as c,_ as d,ge as e,k as f,Ee as g,ye as h,Se as u};
